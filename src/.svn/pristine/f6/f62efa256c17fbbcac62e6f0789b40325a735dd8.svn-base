package caching.rplc.lru;

import caching.base.AbstractCachingPolicy;
import caching.interfaces.rplc.ILRURplc;
import caching.Utils;
import caching.base.AbstractPop;
import java.util.Set;
import sim.content.Chunk;
import sim.space.cell.smallcell.ITimeBuffer;
import sim.space.cell.smallcell.PricedTimeBuffer;
import sim.space.cell.smallcell.SmallCell;
import sim.space.users.CachingUser;

/**
 * Must check functionality after severe changes in code 
 * @author xvas
 */
@Deprecated
public final class PopOnlyLRU extends AbstractPop implements ILRURplc {

    private static final AbstractCachingPolicy singelton = new PopOnlyLRU();

    public static AbstractCachingPolicy instance() {
        return singelton;
    }

    public static Class bufferType() {
        return PricedTimeBuffer.class;
    }

    @Override
    public double assess(Chunk item, SmallCell sc) throws Throwable {
        return Utils.assessOnlyPop(this, item, sc);
    }

    private PopOnlyLRU() {
    }

    @Override
    public Set<Chunk> cacheDecision(CachingUser mu, SmallCell sc) throws Throwable {
        return Utils.pricedLRUCacheDecision(this, mu, sc);
    }

    @Override
    public Set<Chunk> optForEviction(ITimeBuffer evictBuffer, Chunk item) throws Throwable {
        return Utils.optForEvictionLRUAccess(evictBuffer, item);
    }

}
